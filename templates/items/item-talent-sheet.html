<form class="wfrp2e item-sheet {{cssClass}}" autocomplete="off">
  {{> systems/wfrp2e/templates/items/item-header.html}}

    <img src="{{item.img}}" {{#if showBorder}}class="no-image-border"{{/if}} data-edit="img"   />

  <div class="item-details row2">
    <label class="label-text" style="flex-grow: 0; width: 69px;">{{localize "Category"}}</label>
    <div class="input-box category" style="margin-right: 0px; flex-grow: 2; padding-top: 0px; text-align: center;">
      {{localize "Talent"}}
    </div>
  </div>

  <nav class="sheet-tabs tabs" data-tab-container="primary">
      <a class="item active" data-tab="description">{{localize "Description"}}</a>
      <a class="item" data-tab="details">{{localize "Details"}}</a>
    </nav>
  <div class="sheet-tabs edges left" ></div>
  <div class="sheet-tabs edges right" ></div>

  <section class="content">

  {{> systems/wfrp2e/templates/items/item-description.html}}

  <!-- Ability Details -->
  <div class="tab details" data-tab="details">
    


    {{#if data.bonuses.length}}
    {{#each data.bonuses as |bonus index|}}
    <div class="form-group">
      <label class="label-text">{{localize "ITEM.TalentBonus"}}</label>
      <div class="input-box">
        <input class="input-text bonus-input" index={{index}} target="display" data-dtype="String" value="{{bonus.display}}" />
      </div>
    </div>

    <div class="form-group">
      <label class="label-text">{{localize "ITEM.TalentBonusValue"}}</label>
      <div class="input-box">
        <input class="input-text bonus-input" index={{index}} target="value" data-dtype="Number" value="{{bonus.value}}" />
      </div>
    </div>

    <div class="form-group">
      <label class="label-text">{{localize "ITEM.TalentBonusTarget"}}</label>
      <div class="input-box">
        <input class="input-text bonus-input" index={{index}} target="target" data-dtype="string" value="{{bonus.target}}" />
      </div>
    </div>
   
    <div class="form-group">
      <label class="label-text">{{localize "ITEM.TalentBonusConstant"}}</label>
      {{#if bonus.constant}}
      <a class="bonus-input checkbox" target="constant" index={{index}}><i class="far fa-check-circle"></i></a>
      {{else}}
      <a class="bonus-input checkbox" target="constant" index={{index}}><i class="far fa-circle"></i></a>
      {{/if}}
    </div>
    <hr>
    {{/each}}
    <a class="add-talent-bonus"><i class="fas fa-plus"></i></a>
    {{else}}
    <div class="form-group">
      <label class="label-text">{{localize "ITEM.TalentBonus"}}</label>
      <div class="input-box">
        <input class="input-text bonus-input" index=-1 target="display" data-dtype="String" />
      </div>
    </div>
    {{/if}}


    <div class="form-group skills">
      <label class="label-text skills-textarea">{{localize "ITEM.TalentRelatedSkills"}} ({{localize "COMMA-SEPARATED"}})</label>
      <div class="input-box skills-textarea">
        <textarea class="input-text csv-input" data-dest="data.relatedSkills" type="text" data-dtype="String">{{relatedSkills}}</textarea>
      </div>
    </div>

  </section>

</form>

<script>
    textContainer = document.querySelectorAll('.app.window-app.sheet');
    length = textContainer.length;
  
    for (i = 0; i < length; i++) {
      if (textContainer[i].children[1].children[0].className.includes("item-sheet")) {
        new_red = document.getElementsByClassName("app window-app sheet")[i].id;
        
        
        if (document.getElementById(new_red).className.includes("career-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("ammo-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("consumable-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("container-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("disease-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("injury-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("money-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("mutation-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("prayer-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("psychology-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("skill-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("spell-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("talent-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("trait-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("trapping-sheet")) {
          continue;
        } 
        else if (document.getElementById(new_red).className.includes("weapon-sheet")) {
          continue;
        } 
        else {
          document.getElementById(new_red).className += " talent-sheet item-sheet";
        }
      } else {}
    }
  
    
  </script>